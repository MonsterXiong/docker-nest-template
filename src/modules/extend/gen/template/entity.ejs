import { Column, Entity, PrimaryColumn, UpdateDateColumn, CreateDateColumn, DeleteDateColumn } from 'typeorm' ;
import { ApiProperty } from '@nestjs/swagger';
import { CommonEntity } from '../../common/common.entity';

@Entity()
export class <%=TableName %> extends CommonEntity {
<%_ fields.filter(field=>!field.columnOptions.Field.startsWith('sys_')).forEach(function(field){ -%>
  @ApiProperty({
    description: '<%=field.comment %>'
  })
  <%_if (field.isPrimary) { -%>
  @PrimaryColumn({
  <%_ }else{ -%>
  @Column({
  <%_ } -%>
    name:'<%=field.columnOptions.Field %>',
    nullable: <%=field.nullable %>,
    type: '<%=field.sourceType %>',
    comment: '<%=field.comment %>',
    <%_if (field.default != null) { -%>
    default: <%_if(['boolean','number'].includes(field.type)){-%><%=field.default %><%_ }else{-%>'<%=field.default %>'<%_ } -%>,
    <%_ }-%>
    <%_if (field.length) { -%>
      <%_if( field.type !='number'){-%>
    length: <%=field.length %>,
      <%_ }else{-%>
    width: <%=field.length %>,
      <%_ }-%>
    <%_ }-%>
  })
  <%=field.columnName %>: <%=field.type %>
<% }); %>
}
